/*! ya 2024-02-02 */
"use strict";function _construct(a,b,c){if(_isNativeReflectConstruct())return Reflect.construct.apply(null,arguments);var d=[null];d.push.apply(d,b);var e=new(a.bind.apply(a,d));return c&&_setPrototypeOf(e,c.prototype),e}function _isNativeReflectConstruct(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(a){}return(_isNativeReflectConstruct=function(){return!!a})()}function _setPrototypeOf(a,b){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a})(a,b)}function _toConsumableArray(a){return _arrayWithoutHoles(a)||_iterableToArray(a)||_unsupportedIterableToArray(a)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(a,b){if(a){if("string"==typeof a)return _arrayLikeToArray(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);return"Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c?Array.from(a):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?_arrayLikeToArray(a,b):void 0}}function _iterableToArray(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}function _arrayWithoutHoles(a){if(Array.isArray(a))return _arrayLikeToArray(a)}function _arrayLikeToArray(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=new Array(b);c<b;c++)d[c]=a[c];return d}function getType(a){return Object.prototype.toString.call(a).slice(8,-1)}function isArrowFunction(a){var b=a.toString().replace(/\s/g,""),c=b.indexOf("=>");return-1!==c&&c>b.indexOf("){")}function getFun(a){var b=a.match(/(\w+)\s*\(([^)]*)\)\s*{([^]*)}/);return new Function(b[2],b[3])}function getArrowFun(a){var b=a.match(/\((.*?)\)\s*=>\s*{([\s\S]*)}/);return new Function(b[1],b[2])}function setObj(a,b,c){for(var d=Object.keys(a),e={},f=d.length-1;f>=0;f--){var g=d[f];e[g]=copyValue(a[g],g,b,c)}return e}function setArray(a,b,c){for(var d=a.length,e=[],f=0;f<d;f++)e[f]=copyValue(a[f],f,b,c);return e}function getRegExp(a){return _construct(RegExp,_toConsumableArray(a))}function getUndefined(){}function copyValue(a,b,c,d){d=d?"".concat(d,",").concat(b):b;var e=getType(a);if(typeList.includes(e))return a;switch(e){case"Object":return setObj(a,c,d);case"Array":return setArray(a,c,d);case"Function":var f=isArrowFunction(a);return c.push("".concat(d,",").concat(f,"Function")),a.toString();case"RegExp":return c.push("".concat(d,",RegExp")),/(.+)\/(.+)/.exec(a.toString().slice(1)).slice(1,3);case"Undefined":return void c.push("".concat(d,",Undefined"))}}function getSwitch(a){switch(a){case"trueFunction":return getArrowFun;case"falseFunction":return getFun;case"RegExp":return getRegExp;case"Undefined":return getUndefined}}function string(a){var b=[];return JSON.stringify({value:copyValue(a,"",b,""),indexList:b,type:"ya"})}function parse(a){var b,c=JSON.parse(a);if("ya"!==c.type)return{};for(var d=c.value,e=null!==(b=c.indexList)&&void 0!==b?b:[],f=e.length-1;f>=0;f--){for(var g=d,h=e[f].split(","),i=h.length,j=0;j<=i-3;j++)g=g[h[j]];g[h[h.length-2]]=getSwitch(h[i-1])(g[h[i-2]])}return d}var typeList=["String","Number","Null","Boolean"];window.ya={string:string,parse:parse};